{"version":3,"sources":["components/Post.js","components/Posts.js","components/Photo.js","components/Photos.js","redux/userSlice.js","components/Comments.js","page/Main.js","page/Login.js","App.js","redux/store.js","reportWebVitals.js","index.js"],"names":["Post","post","placeholder","className","body","Posts","useState","posts","setPosts","useEffect","a","fetch","response","json","data","fetchPosts","path","map","i","to","id","Photo","photo","height","offset","style","src","thumbnailUrl","alt","Photos","photos","setPhotos","fetchPhotos","length","userSlice","createSlice","name","initialState","value","login","user_name","reducers","setUser","state","payload","actions","getUser","user","Comments","useParams","history","useHistory","comments","setComments","status","Error","push","fetchComments","comment","Main","useSelector","dispatch","useDispatch","userStorage","localStorage","getItem","listStyleType","display","marginRight","marginLeft","exact","Login","userName","setUserName","password","setUserPassword","onSubmit","e","preventDefault","setItem","userLogin","htmlFor","type","onChange","target","App","removeItem","basename","process","configureStore","reducer","userReducer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.a579fe35.chunk.js","sourcesContent":["import LazyLoad from 'react-lazyload';\n\nfunction Post({ post }) {\n  return (\n    <LazyLoad placeholder={'Loading....'}>\n      <div className=\"post\">\n        {post.body}\n      </div>\n    </LazyLoad>\n  )\n}\n\nexport default Post;","import { useState, useEffect } from 'react';\nimport Post from './Post';\nimport { Route, Switch, Link, Redirect } from 'react-router-dom';\n\nfunction Posts () {\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      const response = await fetch('https://jsonplaceholder.typicode.com/posts');\n      const data = await response.json();\n      setPosts(data);\n    }\n    fetchPosts();\n  }, [])\n\n  return (\n    <div className=\"container\">\n      <Switch>\n        <Route path=\"/\">\n          {posts.map((post, i) => (\n            <Link key={i} to={\"/comment/\" + post.id}>\n              <Post post={post}/>\n            </Link>\n          ))}\n        </Route>\n        <Route path=\"/comment/:id/*\">\n          <Redirect to=\"/\" />\n        </Route>\n      </Switch>\n    </div>\n  )\n}\n\nexport default Posts;","import LazyLoad from 'react-lazyload';\n\nfunction Photo({ photo }) {\n  return (\n    <LazyLoad height={150} offset={100} placeholder={<p style={{height: '150px'}}>Loading...</p>}>\n      <img src={photo.thumbnailUrl} alt={photo.id} />\n    </LazyLoad>\n  )\n}\n\nexport default Photo;","import { useState, useEffect } from 'react';\nimport Photo from './Photo';\n\nfunction Photos() {\n  const [photos, setPhotos] = useState([]);\n\n  useEffect(() => {\n    const fetchPhotos = async () => {\n      const response = await fetch('https://jsonplaceholder.typicode.com/albums/1/photos');\n      const data = await response.json();\n      setPhotos(data);\n    }\n    fetchPhotos();\n  }, [])\n  return (\n    <div className=\"container container-photos\">\n      {photos.length ? photos.map((photo) => <Photo key={photo.id} photo={photo} />) : 'loading...'}\n    </div>\n  )\n}\n\nexport default Photos;","import { createSlice } from '@reduxjs/toolkit';\n\nexport const userSlice = createSlice({\n  name: 'user',\n  initialState: {\n    value: {\n      login: false,\n      user_name: 'ahahaha'\n    },\n  },\n  reducers: {\n    setUser: (state, data) => {\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\n      // doesn't actually mutate the state because it uses the Immer library,\n      // which detects changes to a \"draft state\" and produces a brand new\n      // immutable state based off those changes\n      state.value = {\n        login: true,\n        user_name: data.payload\n      };\n    },\n  },\n});\n\nexport const { setUser } = userSlice.actions;\n\n// The function below is called a thunk and allows us to perform async logic. It\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\n// will call the thunk with the `dispatch` function as the first argument. Async\n// code can then be executed and other actions can be dispatched\nexport const userLoggedin = (data) => dispatch => {\n  setTimeout(() => {\n    dispatch(setUser(data));\n  }, 1000);\n};\n\n// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state) => state.counter.value)`\nexport const getUser = state => state.user.value;\n\nexport default userSlice.reducer;\n","import { useHistory, useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\n\nfunction Comments() {\n  const { id } = useParams();\n  const history = useHistory();\n  const [comments, setComments] = useState([]);\n\n  useEffect(() => {\n    const fetchComments = async () => {\n      try {\n        const response = await fetch(`https://jsonplaceholder.typicode.com/posts/${id}/comments`);\n        if (!response || response.status > 399) throw Error();\n        const data = await response.json();\n        setComments(data);\n      } catch (err) {\n        history.push('/');\n      }\n    }\n    fetchComments();\n  }, [history, id]);\n\n  return (\n    <div className=\"container\">\n      {comments.length ? comments.map((comment, i) => <p key={i}>{comment.body}</p>) : 'loading...'}\n    </div>\n  )\n}\n\nexport default Comments;","import Posts from '../components/Posts';\nimport Photos from '../components/Photos';\nimport { Route, Switch, Link, Redirect, useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getUser } from '../redux/userSlice';\nimport Comments from '../components/Comments';\nimport { setUser } from '../redux/userSlice';\nimport { useDispatch } from 'react-redux';\n\nfunction Main() {\n  const user = useSelector(getUser);\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  if (!user.login) {\n    const userStorage = localStorage.getItem('userlearning');\n    if (!userStorage) {\n      history.push('/login');\n    }\n    dispatch(setUser(userStorage));\n  }\n  return (\n    <>\n      <ul style={{ listStyleType: \"none\", display: \"flex\"}}>\n        <li style={{ marginRight: \"1rem\" }}>\n          <Link to=\"/\">Home</Link>\n        </li>\n        <li>\n          <Link to=\"/photos\">Photos</Link>\n        </li>\n        <li style={{ marginLeft: \"auto\", marginRight: \"2rem\" }}>\n          {user.user_name}\n        </li>\n      </ul>\n      <hr/>\n      {user.login ? <Switch>\n        <Route exact path=\"/\">\n          <Posts />\n        </Route>\n        <Route exact path=\"/photos\">\n          <Photos />\n        </Route>\n        <Route exact path=\"/comment/:id\">\n          <Comments />\n        </Route>\n        <Route path=\"*\">\n          <Redirect to=\"/\" />\n        </Route>\n      </Switch> : ''}\n    </>\n  )\n}\n\nexport default Main;","import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { setUser } from '../redux/userSlice';\n\nfunction Login() {\n  const [userName, setUserName] = useState('');\n  const [password, setUserPassword] = useState('');\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const userLogin = (e) => {\n    e.preventDefault();\n    dispatch(setUser(userName));\n    localStorage.setItem('userlearning', userName);\n    history.push('/');\n  }\n\n  return (\n    <div className=\"container\">\n      <form onSubmit={(e) => userLogin(e)}>\n        <div className=\"container\">\n          <label htmlFor=\"uname\"><b>Username</b></label>\n          <input type=\"text\" placeholder=\"Enter any username\" name=\"uname\" value={userName} onChange={(e) => setUserName(e.target.value)} />\n\n          <label htmlFor=\"psw\"><b>Password</b></label>\n          <input type=\"password\" placeholder=\"Enter mock Password\" name=\"psw\" value={password} onChange={(e) => setUserPassword(e.target.value)} />\n\n          <button type=\"submit\">Login</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default Login;","import Main from './page/Main';\nimport Login from './page/Login';\nimport { BrowserRouter, Route, Switch, useHistory } from 'react-router-dom';\n\nfunction App() {\n  const path = localStorage.getItem('path');\n  const history = useHistory();\n  if (path) {\n    localStorage.removeItem('path');\n    history.push(`/${path}`);\n  }\n  return (\n    <div className=\"App\">\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Switch>\n          <Route exact path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/\">\n            <Main />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport userReducer from './userSlice';\n\nexport default configureStore({\n  reducer: {\n    user: userReducer\n  }\n})","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/css/index.scss';\nimport App from './App';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}